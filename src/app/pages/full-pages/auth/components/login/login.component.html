<div class="login-container d-flex justify-content-center align-items-center">
  <div style="position: absolute; top: 10px; right: 10px; z-index: 10">
    <p-button
      icon="pi pi-expand"
      [label]="buttonLabel"
      (click)="toggleFullscreen()"
    ></p-button>
  </div>
  <div class="login-wrapper shadow-2 surface-card rounded flex flex-wrap">
    <!-- Logo -->
    <div class="logo-container w-100 text-center py-2 rounded-top">
      <img src="img/logo/logo_login.png" alt="Logo Nettalco"
           [class]="logoFloating ? 'logo logo-floating' : 'logo'" />
      <h1 class="logo-title m-0">
        <div>Sistema de Gestión</div>
      </h1>
    </div>

    <!-- Imagen ilustrativa -->
    <div class="illustration-container hidden md:block w-100 md:w-6">
      <div class="w-100 h-full flex align-items-center justify-content-center">
        <img src="img/login.png" alt="Ilustración" class="illustration" />
      </div>
    </div>

    <!-- Formulario -->
    <div class="form-container w-100 p-4">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" autocomplete="off">
        <p-floatlabel variant="on" class="mb-4">
          <input
            pInputText
            id="username"
            formControlName="username"
            autocomplete="off"
            class="input-custom w-100 p-2 border-round"
            [class.ng-invalid]="submitted && loginForm.get('username')?.invalid"
            [class.ng-dirty]="submitted && loginForm.get('username')?.dirty"
          />
          <label for="username">Código usuario</label>
        </p-floatlabel>
        <small class="p-error" *ngIf="submitted && loginForm.get('username')?.hasError('required')">
          El código de usuario es requerido
        </small>

        <p-floatlabel variant="on" class="mb-2">
          <p-password
            formControlName="password"
            inputId="password"
            [toggleMask]="true"
            [feedback]="false"
            class="d-block w-100"
            [class.ng-invalid]="submitted && loginForm.get('password')?.invalid"
            [class.ng-dirty]="submitted && loginForm.get('password')?.dirty"
          />
          <label for="password">Contraseña</label>
        </p-floatlabel>
        <small class="p-error" *ngIf="submitted && loginForm.get('password')?.hasError('required')">
          La contraseña es requerida
        </small>
        <small class="p-error" *ngIf="submitted && loginForm.get('password')?.hasError('minlength')">
          La contraseña debe tener al menos 4 caracteres
        </small>

        <!-- Botón de login -->
        <div class="w-100 mt-4">
          <p-button
            label="Ingresar"
            type="submit"
            [raised]="true"
            [loading]="loading"
            [disabled]="loading"
            class="w-100 p-button-modificado"
          ></p-button>
        </div>
      </form>
    </div>
  </div>
</div>
